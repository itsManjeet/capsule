sys := use ("sys");

if socket := sys.Socket ("tcp4"); type(socket) == error {
    println ("ERROR: ", socket);
    sys.Exit (1);
}
defer { socket.Close(); };

if stat := socket.Bind ("127.0.0.1", 32535); not stat {
    println ("ERROR: ", stat);
    sys.Exit (1);
}

if stat = socket.Connect ("127.0.0.1", 8000); not stat {
    println ("ERROR: ", stat);
    sys.Exit (1);
}

socket.Write ("Hello World");
